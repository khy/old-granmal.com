@(lastNote: Option[json.JsObject] = None)

@layout {

  <div id="main">
  </div>

  <script id="new-note-template" type="text/x-handlebars-template">
    <h1>New Note</h1>
  </script>

  <script id="new-book-template" type="text/x-handlebars-template">
    <div class="dialog-header">
      <h1>New Book</h1>
    </div>

    <div class="form-group">
      <form>
        <div class="field">
          <input type="text" name="title" placeholder="Title"></input>
        </div>

        <div class="field">
          <input type="text" name="author_name" placeholder="Author" value="{{author_name}}"></input>
        </div>

        <input type="hidden" name="author_guid" value="{{author_guid}}"></input>

        <button type="submit">Add Book</button>
      </form>
    </div>
  </script>

  <script>
    require(['lib', 'app', 'models/book'], function(lib, App, Book) {
      var lastNote;

      @lastNote.foreach { lastNote =>
        lastNote = new Book(@json.Json.stringify(lastNote));
      }

      window.App = new App({
        lastNote: lastNote
      });

      lib.ensureFullPage();
      window.App.init();
    });
  </script>

}
